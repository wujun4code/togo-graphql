
model Role {
  id                Int                 @id @default(autoincrement())
  name              String              @unique
  description       String
  users             RoleUser[]
  TravelPlanACLRule TravelPlanACLRule[]
}

model User {
  id                Int                 @id @default(autoincrement())
  email             String              @unique
  name              String?
  sub               String              @unique
  posts             Post[]
  travelPlans       TravelPlan[]
  roles             RoleUser[]
  TravelPlanACLRule TravelPlanACLRule[]
}

model RoleUser {
  id     Int  @id @default(autoincrement())
  roleId Int
  userId Int
  user   User @relation(fields: [userId], references: [id])
  role   Role @relation(fields: [roleId], references: [id])

  @@index([roleId, userId], name: "unique_user_role")
}
